(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{89:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),a=n(46),u=n.n(a),i=n(24),r=n(1),s=n(92),l=n(27),d=n(47),b=n.n(d),j=n(48),f=(n(83),n(3)),O=[[{header:[1,2,3,4,5,6,!1]}],[{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{direction:"rtl"}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["image","blockquote","code-block"],["clean"]],h=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=t[0],o=t[1],a=Object(c.useState)(null),u=Object(l.a)(a,2),i=u[0],s=u[1],d=Object(c.useRef)(),h=Object(r.g)().id,m=function(e,t,n){"api"!==n&&i.emit("send-change",e)},g=function(e){n.updateContents(e)},p=function(e){n.setContents(e),n.enable()};return Object(c.useEffect)((function(){var e=document.createElement("div");d.current.append(e);var t=new b.a(e,{theme:"snow",modules:{toolbar:O}});t.disable(),t.setText("Loading document..."),o(t);var n=Object(j.io)("https://google-docs-plus-api.herokuapp.com/");return s(n),function(){d.current.innerHTML="",n.disconnect()}}),[]),Object(c.useEffect)((function(){if(null!==n&&null!==i)return n.on("text-change",m),i.on("receive-changes",g),function(){n.off("text-change",m),i.off("receive-changes",g)}}),[i,n]),Object(c.useEffect)((function(){null!==i&&null!==n&&(i.emit("get-document",h),i.once("load-document",p))}),[i,n,h]),Object(c.useEffect)((function(){var e=setInterval((function(){i.emit("save-document",{data:n.getContents(),documentId:h})}),2500);return function(){clearInterval(e)}}),[i,n]),Object(f.jsx)("div",{className:"container",ref:d})};n(89);var m=function(){return Object(f.jsx)(i.a,{children:Object(f.jsxs)(r.d,{children:[Object(f.jsx)(r.b,{path:"/",exact:!0,children:Object(f.jsx)(r.a,{to:"/documents/".concat(Object(s.a)())})}),Object(f.jsx)(r.b,{path:"/documents",exact:!0,children:Object(f.jsx)(r.a,{to:"/documents/".concat(Object(s.a)())})}),Object(f.jsx)(r.b,{path:"/documents/:id",children:Object(f.jsx)(h,{})})]})})};u.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(m,{})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.141be86a.chunk.js.map